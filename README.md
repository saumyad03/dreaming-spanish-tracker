# Dreaming Spanish Tracker
## Main Functionality
### Details
The `chrome-extension` directory contains code for a Chrome extension that stores comprehensible input from YouTube to your Dreaming Spanish account with the click of a button. In order to authenticate the requests it makes to Dreaming Spanish's server, it presents a popup when you click on the extension logo through which you can provide your authentication token. This authentication token is stored locally via Chrome's Storage API. Additionally, the Chrome extension renders a button next to the share button under YouTube videos using `content.js`. When clicked, this button sends the information needed to make a request to store the comprehensible input to the background service worker `background.js`. `background.js` makes the actual API request, sending back the results of it the request to `content.js`, which then displays a success or error message. Given that YouTube operates as a Single Page Application (SPA), the extension checks every few seconds whether the user's URL changed to determine whether the button should be rerendered after its initial render. Additionally, a the background service worker is used to send the actual request because Dreaming Spanish's server doesn't accept cross-origin requests from YouTube.
### Setup
1. In Google Chrome, go to chrome://extensions, turn on Developer Mode, click Load Unpacked, select the directory `chrome-extension` wherever it is stored locally in your computer, and pin the extension
2. Log in to Dreaming Spanish, go to developer tools, copy the authorization token from local storage, paste this into the popup that shows up when you click on the extension, and click save
## New Functionality
While comprehensible input alone is great, to have a truly foolproof learning system, we have to understand its shortcomings. It is incredibly slow. Therefore, I plan on adding functionality to this extension so that while you watch a video, you can click on individual vocabulary words you don't understand. This will result in the word being stored and displayed on your screen next to the video. When you hover your cursor over the word, a tooltip will be displayed with the translation for the word. This should help build your vocabulary much quicker!
In order to make the chrome extension more user friendly for non-technical people, I'm also thinking about displaying the authentication token somewhere in the Dreaming Spanish website instead of forcing the user to go to developer tools as well as providing instructions for how to set up the extension in the popup for it.